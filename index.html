<!DOCTYPE html>
<html>

<head>
  <title>CTF Burger</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>
  <header>
    <h1>CTF Burger</h1>
  </header>

  <nav>
    <ul>
      <li><a href="why_we_must_solve_ctfs.html">Зачем решать ctf?</a></li>
      <li><a href="ctf_teams.html">Ctf команды(можно подписаться на каждую и следить за материалами, мероприятиями,
          райтапами)</a></li>
      <li><a href="cool_ctfers_and_not_only.html">Крутые ctfеры и не только</a></li>
      <li><a href="write-ups.html">Врайтапы, записи занятий</a></li>
      <li><a href="tasks(articles, video).html">Таски(+ статьи, видео)</a></li>
      <li><a href="Events.html">Мероприятия, новые соревнования ctf</a></li>
      <li><a href="cool_channels.html">Крутые каналы</a></li>
      <li><a href="tasks(articles, video).html">Таски(+ статьи, видео)</a></li>
      <li><a href="cool_ctfs_other_tournaments.html">Крутые ctf и не только соревнования</a></li>
      <li><a href="professions_in_cybersec.html">Профессии, направления в ИБ, в чем состоит работа</a></li>
      <li><a href="company_in_cybersec.html">Компании в ИБ</a></li>
      <li><a href="compliaence.html">Бумажная безопасность</a></li>
      <li><a href="Burger_komanda_history.html">Burger Команда (history)</a></li>
      <li><a href="useful_materials_for_internship.html">Полезные материалы для стажировки и прочее</a></li>
    </ul>
  </nav>

  <main>
    <h2>Привет, мир!</h2>
    <p>Кароче я подумал, а почему мы нам не запилить свой сайт.</p>
    <p>Потом его можно будет передать следующему покалению мэишников.</p>
    <p>Здесь я расписал важную по моему мнению инфу.</p>
    <p>Думаю каждый будет потихоньку добавлять какой-нибудь матерал и это будет полезно для нас.</p>
    <p>Ещё из идей добавить какой-нибудь дашбоард или канбан доску для решения ctf, но кажется на сайте это не оч
      удобно.</p>
    <p>Поскольку все могут в разное время(там можно писать кто работал над таском и что у него вышло, чтобы кто-то
      другой дорешал)</p>
    <p>Вообще в планах, пробовать расширять сайт между другими группами и даже курсами, но это уже как пойдёт</p>
    <p>Ну ебаный сыр, почему все идет елочкой и по центру, Ахмад пофикси пж, хотя сам зафиксил.</p>
  </main>

  <div id="globe"></div>
  <div id="timer">0</div>
  <div id="gameover">Игра окончена</div>

  <script src="https://threejs.org/build/three.js"></script>
  <script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var ambientLight = new THREE.AmbientLight(0xffffff);
    scene.add(ambientLight);

    // Загрузить текстуру ракеты
    var rocketTexture = new THREE.TextureLoader().load('assets/images/burger.png');
    var rocketMaterial = new THREE.MeshBasicMaterial({ map: rocketTexture });

    var rocketGeometry = new THREE.CylinderGeometry(0, 0.5, 1, 12);
    var player = new THREE.Mesh(rocketGeometry, rocketMaterial);
    scene.add(player);

    var score = 0;
    var gameOver = false;

    // Загрузить текстуру метеорита
    var meteorTexture = new THREE.TextureLoader().load('assets/images/asteroid.jpg');
    var meteorMaterial = new THREE.MeshPhongMaterial({ map: meteorTexture, specular: 0x050505, shininess: 100 });
    var meteors = [];

    var timerElem = document.getElementById('timer');
    var gameoverElem = document.getElementById('gameover');
    var startTime = Date.now();

    function spawnMeteor() {
      var size = Math.random() * 0.5 + 0.5;
      var speed = Math.random() * 0.1 + 0.05;
      var meteorGeometry = new THREE.TetrahedronGeometry(size, 2);
      var meteor = new THREE.Mesh(meteorGeometry, meteorMaterial);
      meteor.position.x = (Math.random() - 0.5) * 20;
      meteor.position.y = (Math.random() - 0.5) * 20;
      meteor.position.z = 20;
      meteor.speed = speed;
      scene.add(meteor);
      meteors.push(meteor);
    }

    function moveMeteors() {
      for (var i = 0; i < meteors.length; i++) {
        meteors[i].position.z -= meteors[i].speed;
        if (meteors[i].position.z < -10) {
          scene.remove(meteors[i]);
          meteors.splice(i, 1);
          i--;
        } else if (meteors[i].position.distanceTo(player.position) < 1) {
          // Игра заканчивается, если метеорит попадает в игрока
          gameOver = true;
          gameoverElem.style.display = 'block';
          gameoverElem.innerHTML = 'Игра окончена<br>Ваше время: ' + timerElem.textContent + ' секунд';
        }
      }
    }

    // Управление движением игрока с помощью мыши
    var mouse = new THREE.Vector2();

    function onMouseMove(event) {
      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

      var vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);
      vector.unproject(camera);

      var dir = vector.sub(camera.position).normalize();
      var distance = -camera.position.z / dir.z;
      var pos = camera.position.clone().add(dir.multiplyScalar(distance));

      player.position.copy(pos);
    }

    window.addEventListener('mousemove', onMouseMove, false);

    camera.position.z = 5;

    var animate = function () {
      requestAnimationFrame(animate);

      if (gameOver) {
        return;
      }

      moveMeteors();

      // Генерировать метеориты чаще, по мере увеличения счета
      if (Math.random() < 0.01 + score * 0.01) {
        spawnMeteor();
      }

      // Увеличивать счет со временем
      score += 0.01;

      // Обновление таймера
      var time = Math.floor((Date.now() - startTime) / 1000);
      timerElem.textContent = time;

      renderer.render(scene, camera);
    };


    animate();
  </script>
</body>

</html>